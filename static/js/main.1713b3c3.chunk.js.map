{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","reducer.js","context.js","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/CartItem.jsx","components/CartList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","reducer","state","type","payload","goods","loading","itemIdx","order","findIndex","orderItem","mainId","newOrder","newItem","quantity","map","idx","alertName","displayName","filter","el","newQuantity","isCartShow","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","addToCart","item","removeFromCart","itemId","incQuantity","dicQuantity","handelCartShow","closeAlert","setGoods","data","Provider","Preloader","GoodsItem","granted","price","displayAssets","useContext","src","full_background","alt","description","onClick","regularPrice","GoodsList","length","Cart","Function","prototype","CartItem","decQuantity","CartList","totalPrice","reduce","sum","Alert","name","cloaseAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","Authorization","process","then","response","json","shop","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1713b3c3.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <nav className=\"blue lighten-2\">\n      <div className=\"nav-wrapper\">\n        <a href=\"https://13redfox.github.io/react-shop/\" className=\"brand-logo\">\n          React Shop\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <a href=\"https://github.com/13RedFox/react-shop\" target=\"_blank\" rel=\"noreferrer\">\n              GitHub Repo\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"page-footer blue lighten-1\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          © {new Date().getFullYear()} React Shop\n          <a\n            className=\"grey-text text-lighten-4 right\"\n            href=\"https://github.com/13RedFox/react-shop\"\n            target=\"_blank\"\n            rel=\"noreferrer\">\n            GitHub Repo\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export function reducer(state, { type, payload }) {\n  switch (type) {\n\n    case 'SET_GOODS':\n      return {\n        ...state,\n        goods: payload || [],\n        loading: false,\n      };\n\n    case 'ADD_TO_CART': {\n      const itemIdx = state.order.findIndex((orderItem) => orderItem.id === payload.mainId);\n\n      let newOrder = null;\n      if (itemIdx < 0) {\n        const newItem = {\n          ...payload,\n          quantity: 1,\n        };\n        newOrder = [...state, newItem];\n      } else {\n        newOrder = state.order.map((orderItem, idx) => {\n          if (idx === itemIdx) {\n            return {\n              ...orderItem,\n              quantity: orderItem.quantity + 1,\n            };\n          } else {\n            return orderItem;\n          }\n        });\n      }\n      return {\n        ...state,\n        order: newOrder,\n        alertName: payload.displayName,\n      }\n    }\n\n    case 'REMOVE_FROM_CART':\n      return {\n        ...state,\n        order: state.order.filter((el) => el.id !== payload.id),\n      }\n\n    case 'INCREMENT_QUANTITY':\n      return {\n        ...state,\n        order: state.order.map((el) => {\n          if (el.id === payload.id) {\n            const newQuantity = el.quantity + 1;\n            return {\n              ...el,\n              quantity: newQuantity,\n            };\n          } else {\n            return el;\n          }\n        }),\n      }\n\n    case 'DECREMENT_QUANTITY':\n      return {\n        ...state,\n        order: state.order.map((el) => {\n          if (el.id === payload.id) {\n            const newQuantity = el.quantity - 1;\n            return {\n              ...el,\n              quantity: newQuantity >= 0 ? newQuantity : 0,\n            };\n          } else {\n            return el;\n          }\n        }),\n      }\n\n    case 'TOGGLE_CART':\n      return {\n        ...state,\n        isCartShow: !state.isCartShow,\n      }\n\n    case 'CLOSE_ALERT':\n      return {\n        ...state,\n        alertName: ''\n      }\n\n    default:\n      return state;\n  }\n}","import { createContext, useReducer } from 'react';\nimport { reducer } from './reducer';\n\nexport const ShopContext = createContext();\n\nconst initialState = {\n  goods: [],\n  loading: true,\n  order: [],\n  isCartShow: false,\n  alertName: '',\n}\n\nexport const ContextProvider = ({ children }) => {\n\n  const [value, dispatch] = useReducer(reducer, initialState);\n\n  value.addToCart = (item) => {\n    dispatch({ type: 'ADD_TO_CART', payload: item });\n  }\n\n  value.removeFromCart = (itemId) => {\n    dispatch({ type: 'REMOVE_FROM_CART', payload: { id: itemId } });\n  }\n\n  value.incQuantity = (itemId) => {\n    dispatch({ type: 'INCREMENT_QUANTITY', payload: { id: itemId } })\n  }\n\n  value.dicQuantity = (itemId) => {\n    dispatch({ type: 'DICREMENT_QUANTITY', payload: { id: itemId } })\n  }\n\n  value.handelCartShow = () => {\n    dispatch({ type: 'TOGGLE_CART' })\n  }\n\n  value.closeAlert = () => {\n    dispatch({ type: 'CLOSE_ALERT' });\n  }\n\n  value.setGoods = (data) => {\n    dispatch({ type: 'SET_GOODS', payload: data });\n  }\n\n\n\n\n  return <ShopContext.Provider value={value}>\n    {children}\n  </ShopContext.Provider>\n}","import React from 'react';\n\nfunction Preloader() {\n  return (\n    <div className=\"progress teal darken-2\">\n      <div className=\"indeterminate teal accent-2\"></div>\n    </div>\n  );\n}\n\nexport default Preloader;\n","import { useContext } from 'react';\nimport { ShopContext } from '../context';\n\nfunction GoodsItem({ mainId, displayName, granted, price, displayAssets }) {\n  const { addToCart } = useContext(ShopContext);\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img src={displayAssets[0].full_background} alt={granted.description} />\n      </div>\n      <div className=\"card-content descr\">\n        <span className=\"card-title title\">{displayName}</span>\n        <p>{granted[0].description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button\n          className=\"btn blue lighten-2\"\n          onClick={() =>\n            addToCart({\n              mainId,\n              displayName,\n              price,\n            })\n          }>\n          Купить\n        </button>\n        <span className=\"right\">{price.regularPrice} руб.</span>\n      </div>\n    </div>\n  );\n}\n\nexport default GoodsItem;\n","import { useContext } from 'react';\nimport { ShopContext } from '../context';\nimport GoodsItem from './GoodsItem';\n\nfunction GoodsList() {\n  const { goods = [] } = useContext(ShopContext);\n  if (!goods.length) {\n    <h3>Oooooop...Nothing here</h3>;\n  }\n  return (\n    <div className=\"goods\">\n      {goods.map((item) => (\n        <GoodsItem key={item.mainId} {...item} />\n      ))}\n    </div>\n  );\n}\n\nexport default GoodsList;\n","import { useContext } from 'react';\nimport { ShopContext } from '../context';\n\nfunction Cart() {\n  const { order, handelCartShow = Function.prototype } = useContext(ShopContext);\n\n  const quantity = order.length;\n\n  return (\n    <div className=\"cart blue lighten-2 white-text\" onClick={handelCartShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity \">{quantity}</span> : null}\n    </div>\n  );\n}\n\nexport default Cart;\n","import { useContext } from 'react';\nimport { ShopContext } from '../context';\n\nfunction CartItem({ mainId, displayName, price, quantity }) {\n  const { removeFromCart, incQuantity, decQuantity } = useContext(ShopContext);\n\n  return (\n    <li className=\"collection-item\">\n      {displayName}{' '}\n      <i\n        className=\"material-icons cart-quantity text-blue lighten-2\"\n        onClick={() => incQuantity(mainId)}>\n        add\n      </i>{' '}\n      х{quantity}\n      <i className=\"material-icons cart-quantity\" onClick={() => decQuantity(mainId)}>\n        remove\n      </i>{' '}\n      = {price.regularPrice} руб.\n      <span className=\"secondary-content\" onClick={() => removeFromCart(mainId)}>\n        <i className=\"material-icons cart-delete\">clear</i>\n      </span>\n    </li>\n  );\n}\n\nexport default CartItem;\n","import { useContext } from 'react';\nimport { ShopContext } from '../context';\nimport CartItem from './CartItem';\n\nfunction CartList() {\n  const { order = [], handelCartShow = Function.prototype } = useContext(ShopContext);\n\n  const totalPrice = order.reduce((sum, el) => {\n    return sum + el.price.regularPrice * el.quantity;\n  }, 0);\n\n  return (\n    <ul className=\"collection cart-list \">\n      <li className=\"collection-item active\">Корзина</li>\n      {order.length ? (\n        order.map((item) => {\n          return <CartItem key={item.mainId} {...item} />;\n        })\n      ) : (\n        <li className=\"collection-item\">Корзина пуста</li>\n      )}\n      <li className=\"collection-item active\">Общая стоимость: {totalPrice} руб.</li>\n      <li className=\"collection-item active\">\n        <button className=\"btn btn-small\">Оформить</button>\n      </li>\n      <i className=\"material-icons cart-close\" onClick={handelCartShow}>\n        clear\n      </i>\n    </ul>\n  );\n}\n\nexport default CartList;\n","import { useEffect, useContext } from 'react';\nimport { ShopContext } from '../context';\n\nfunction Alert() {\n  const { alertName: name = '', cloaseAlert = Function.prototype } = useContext(ShopContext);\n\n  useEffect(() => {\n    const timerId = setTimeout(cloaseAlert, 3000);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n    // eslint-disable-next-line\n  }, [name]);\n\n  return (\n    <div className=\"toast-container\">\n      <div className=\"toast\">{name} добавлен в корзину</div>\n    </div>\n  );\n}\n\nexport default Alert;\n","import { useEffect, useContext } from 'react';\nimport { API_KEY, API_URL } from '../config';\n\nimport { ShopContext } from '../context';\n\nimport Preloader from './Preloader';\nimport GoodsList from './GoodsList';\nimport Cart from './Cart';\nimport CartList from './CartList';\nimport Alert from './Alert';\n\nfunction Shop() {\n  const { loading, order, isCartShow, alertName, setGoods } = useContext(ShopContext);\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: {\n        Authorization: API_KEY,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setGoods(data.shop);\n      });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} />\n      {loading ? <Preloader /> : <GoodsList />}\n      {isCartShow && <CartList />}\n      {alertName && <Alert />}\n    </main>\n  );\n}\n\nexport default Shop;\n","const API_KEY = process.env.REACT_APP_API_KEY;\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\n\nexport { API_KEY, API_URL };","import Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Shop from \"./components/Shop\";\n\nimport { ContextProvider } from \"./context\";\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Shop />\n      </ContextProvider>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}