{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/CartItem.jsx","components/CartList.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","GoodsItem","mainId","displayName","granted","price","displayAssets","addToCart","Function","prototype","src","full_background","alt","description","onClick","regularPrice","GoodsList","goods","length","map","item","Cart","quantity","handelCartShow","CartItem","removeFrom","incQuantity","decQuantity","CartList","order","totalPrice","reduce","sum","el","Shop","useState","setGoods","loading","setLoading","setOrder","isCartShow","setIsCartShow","useEffect","fetch","headers","Authorization","process","then","response","json","data","shop","itemIdx","findIndex","orderItem","newItem","newOrder","idx","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kMAmBeA,MAjBf,WACE,OACE,qBAAKC,UAAU,iBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,mBAAGC,KAAK,KAAKD,UAAU,aAAvB,wBAGA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SACE,6BACE,mBAAGC,KAAK,yCAAR,mCCQGE,MAjBf,WACE,OACE,wBAAQH,UAAU,6BAAlB,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,YAAf,mBACK,IAAII,MAAOC,cADhB,cAEE,mBACEL,UAAU,iCACVC,KAAK,yCAFP,iC,qBCEKK,MARf,WACE,OACE,qBAAKN,UAAU,yBAAf,SACE,qBAAKA,UAAU,mCCgCNO,MAnCf,YAOI,IANFC,EAMC,EANDA,OACAC,EAKC,EALDA,YACAC,EAIC,EAJDA,QACAC,EAGC,EAHDA,MACAC,EAEC,EAFDA,cAEC,IADDC,iBACC,MADWC,SAASC,UACpB,EACD,OACE,sBAAKf,UAAU,OAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBAAKgB,IAAKJ,EAAc,GAAGK,gBAAiBC,IAAKR,EAAQS,gBAE3D,sBAAKnB,UAAU,qBAAf,UACE,sBAAMA,UAAU,mBAAhB,SAAoCS,IACpC,4BAAIC,EAAQ,GAAGS,iBAEjB,sBAAKnB,UAAU,cAAf,UACE,wBACEA,UAAU,qBACVoB,QAAS,kBACPP,EAAU,CACRL,SACAC,cACAE,WANN,kDAWA,uBAAMX,UAAU,QAAhB,UAAyBW,EAAMU,aAA/B,iCCfOC,MAbf,YAAoE,IAAD,IAA9CC,aAA8C,MAAtC,GAAsC,MAAlCV,iBAAkC,MAAtBC,SAASC,UAAa,EAIjE,OAHKQ,EAAMC,OAIT,qBAAKxB,UAAU,QAAf,SACGuB,EAAME,KAAI,SAACC,GAAD,OACT,cAAC,EAAD,2BAAiCA,GAAjC,IAAuCb,UAAWA,IAAlCa,EAAKlB,cCCdmB,MATf,YAAsE,IAAD,IAArDC,gBAAqD,MAA1C,EAA0C,MAAvCC,sBAAuC,MAAtBf,SAASC,UAAa,EACnE,OACE,sBAAKf,UAAU,iCAAiCoB,QAASS,EAAzD,UACE,mBAAG7B,UAAU,iBAAb,2BACC4B,EAAW,sBAAM5B,UAAU,iBAAhB,SAAkC4B,IAAmB,SCyBxDE,MA7Bf,YAQI,IAPFtB,EAOC,EAPDA,OACAC,EAMC,EANDA,YACAE,EAKC,EALDA,MACAiB,EAIC,EAJDA,SAIC,IAHDG,kBAGC,MAHYjB,SAASC,UAGrB,MAFDiB,mBAEC,MAFalB,SAASC,UAEtB,MADDkB,mBACC,MADanB,SAASC,UACtB,EACD,OACE,qBAAIf,UAAU,kBAAd,UACGS,EAAa,IACd,mBACET,UAAU,mDACVoB,QAAS,kBAAMY,EAAYxB,IAF7B,iBAIK,IANP,SAOIoB,EACF,mBAAG5B,UAAU,+BAA+BoB,QAAS,kBAAMa,EAAYzB,IAAvE,oBAEK,IAVP,KAWKG,EAAMU,aAXX,uBAYE,sBAAMrB,UAAU,oBAAoBoB,QAAS,kBAAMW,EAAWvB,IAA9D,SACE,mBAAGR,UAAU,6BAAb,yBCeOkC,MArCf,YAMI,IAAD,IALDC,aAKC,MALO,GAKP,MAJDN,sBAIC,MAJgBf,SAASC,UAIzB,MAHDgB,kBAGC,MAHYjB,SAASC,UAGrB,EAFDiB,EAEC,EAFDA,YACAC,EACC,EADDA,YAEMG,EAAaD,EAAME,QAAO,SAACC,EAAKC,GACpC,OAAOD,EAAMC,EAAG5B,MAAMU,aAAekB,EAAGX,WACvC,GAEH,OACE,qBAAI5B,UAAU,wBAAd,UACE,oBAAIA,UAAU,yBAAd,wDACCmC,EAAMX,OACLW,EAAMV,KAAI,SAACC,GACT,OACE,cAAC,EAAD,2BAEMA,GAFN,IAGEK,WAAYA,EACZC,YAAaA,EACbC,YAAaA,IAJRP,EAAKlB,WAShB,oBAAIR,UAAU,kBAAd,uFAEF,qBAAIA,UAAU,yBAAd,oGAAyDoC,EAAzD,0BACA,mBAAGpC,UAAU,4BAA4BoB,QAASS,EAAlD,uBC6ESW,MAtGf,WACE,MAA0BC,mBAAS,IAAnC,mBAAOlB,EAAP,KAAcmB,EAAd,KACA,EAA8BD,oBAAS,GAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAA0BH,mBAAS,IAAnC,mBAAON,EAAP,KAAcU,EAAd,KACA,EAAoCJ,oBAAS,GAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KAgEMlB,EAAiB,WACrBkB,GAAeD,IAgBjB,OAbAE,qBAAU,WACRC,MChFY,yCDgFG,CACbC,QAAS,CACPC,cCnFQC,yCDsFTC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLA,EAAKC,MAAQf,EAASc,EAAKC,MAC3Bb,GAAW,QAEd,IAGD,uBAAM5C,UAAU,oBAAhB,UACE,cAAC,EAAD,CAAM4B,SAAUO,EAAMX,OAAQK,eAAgBA,IAC7Cc,EAAU,cAAC,EAAD,IAAgB,cAAC,EAAD,CAAWpB,MAAOA,EAAOV,UAlFtC,SAACa,GACjB,IAAMgC,EAAUvB,EAAMwB,WAAU,SAACC,GAAD,OAAeA,EAAU1D,KAAOwB,EAAKlB,UAErE,IAAiB,IAAbkD,EAAgB,CAClB,IAAMG,EAAO,2BACRnC,GADQ,IAEXE,SAAU,IAEZiB,EAAS,GAAD,mBAAKV,GAAL,CAAY0B,SACf,CACL,IAAMC,EAAW3B,EAAMV,KAAI,SAACmC,EAAWG,GACrC,OAAIA,IAAQL,EACH,2BACFE,GADL,IAEEhC,SAAUgC,EAAUhC,SAAW,IAG1BgC,KAIXf,EAASiB,OA8DRhB,GACC,cAAC,EAAD,CACEX,MAAOA,EACPN,eAAgBA,EAChBE,WA9DW,SAACiC,GAClB,IAAMF,EAAW3B,EAAM8B,QAAO,SAAC1B,GAAD,OAAQA,EAAGrC,KAAO8D,KAChDnB,EAASiB,IA6DH9B,YA1DY,SAACgC,GACnB,IAAMF,EAAW3B,EAAMV,KAAI,SAACc,GAC1B,GAAIA,EAAGrC,KAAO8D,EAAQ,CACpB,IAAME,EAAc3B,EAAGX,SAAW,EAClC,OAAO,2BACFW,GADL,IAEEX,SAAUsC,IAGZ,OAAO3B,KAIXM,EAASiB,IA8CH7B,YA3CY,SAAC+B,GACnB,IAAMF,EAAW3B,EAAMV,KAAI,SAACc,GAC1B,GAAIA,EAAGrC,KAAO8D,EAAQ,CACpB,IAAME,EAAc3B,EAAGX,SAAW,EAClC,OAAO,2BACFW,GADL,IAEEX,SAAUsC,GAAe,EAAIA,EAAc,IAG7C,OAAO3B,KAIXM,EAASiB,UE3DEK,MAVf,WACE,OACE,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCJNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.265921c1.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <nav className=\"blue lighten-2\">\n      <div className=\"nav-wrapper\">\n        <a href=\"#!\" className=\"brand-logo\">\n          React Shop\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <a href=\"https://github.com/13RedFox/react-shop\">GitHub Repo</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"page-footer blue lighten-1\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          © {new Date().getFullYear()} React Shop\n          <a\n            className=\"grey-text text-lighten-4 right\"\n            href=\"https://github.com/13RedFox/react-shop\">\n            GitHub Repo\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction Preloader() {\n  return (\n    <div className=\"progress teal darken-2\">\n      <div className=\"indeterminate teal accent-2\"></div>\n    </div>\n  );\n}\n\nexport default Preloader;\n","import React from 'react';\n\nfunction GoodsItem({\n  mainId,\n  displayName,\n  granted,\n  price,\n  displayAssets,\n  addToCart = Function.prototype,\n}) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img src={displayAssets[0].full_background} alt={granted.description} />\n      </div>\n      <div className=\"card-content descr\">\n        <span className=\"card-title title\">{displayName}</span>\n        <p>{granted[0].description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button\n          className=\"btn blue lighten-2\"\n          onClick={() =>\n            addToCart({\n              mainId,\n              displayName,\n              price,\n            })\n          }>\n          Купить\n        </button>\n        <span className=\"right\">{price.regularPrice} руб.</span>\n      </div>\n    </div>\n  );\n}\n\nexport default GoodsItem;\n","import React from 'react';\nimport GoodsItem from './GoodsItem';\n\nfunction GoodsList({ goods = [], addToCart = Function.prototype }) {\n  if (!goods.length) {\n    <h3>Oooooop...Nothing here</h3>;\n  }\n  return (\n    <div className=\"goods\">\n      {goods.map((item) => (\n        <GoodsItem key={item.mainId} {...item} addToCart={addToCart} />\n      ))}\n    </div>\n  );\n}\n\nexport default GoodsList;\n","import React from 'react';\n\nfunction Cart({ quantity = 0, handelCartShow = Function.prototype }) {\n  return (\n    <div className=\"cart blue lighten-2 white-text\" onClick={handelCartShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity \">{quantity}</span> : null}\n    </div>\n  );\n}\n\nexport default Cart;\n","import React from 'react';\n\nfunction CartItem({\n  mainId,\n  displayName,\n  price,\n  quantity,\n  removeFrom = Function.prototype,\n  incQuantity = Function.prototype,\n  decQuantity = Function.prototype,\n}) {\n  return (\n    <li className=\"collection-item\">\n      {displayName}{' '}\n      <i\n        className=\"material-icons cart-quantity text-blue lighten-2\"\n        onClick={() => incQuantity(mainId)}>\n        add\n      </i>{' '}\n      х{quantity}\n      <i className=\"material-icons cart-quantity\" onClick={() => decQuantity(mainId)}>\n        remove\n      </i>{' '}\n      = {price.regularPrice} руб.\n      <span className=\"secondary-content\" onClick={() => removeFrom(mainId)}>\n        <i className=\"material-icons cart-delete\">clear</i>\n      </span>\n    </li>\n  );\n}\n\nexport default CartItem;\n","import React from 'react';\nimport CartItem from './CartItem';\n\nfunction CartList({\n  order = [],\n  handelCartShow = Function.prototype,\n  removeFrom = Function.prototype,\n  incQuantity,\n  decQuantity,\n}) {\n  const totalPrice = order.reduce((sum, el) => {\n    return sum + el.price.regularPrice * el.quantity;\n  }, 0);\n\n  return (\n    <ul className=\"collection cart-list \">\n      <li className=\"collection-item active\">Корзина</li>\n      {order.length ? (\n        order.map((item) => {\n          return (\n            <CartItem\n              key={item.mainId}\n              {...item}\n              removeFrom={removeFrom}\n              incQuantity={incQuantity}\n              decQuantity={decQuantity}\n            />\n          );\n        })\n      ) : (\n        <li className=\"collection-item\">Корзина пуста</li>\n      )}\n      <li className=\"collection-item active\">Общая стоимость: {totalPrice} руб.</li>\n      <i className=\"material-icons cart-close\" onClick={handelCartShow}>\n        clear\n      </i>\n    </ul>\n  );\n}\n\nexport default CartList;\n","import { useState, useEffect } from 'react';\nimport { API_KEY, API_URL } from '../config';\n\nimport Preloader from './Preloader';\nimport GoodsList from './GoodsList';\nimport Cart from './Cart';\nimport CartList from './CartList';\n\nfunction Shop() {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isCartShow, setIsCartShow] = useState(false);\n\n  const addToCart = (item) => {\n    const itemIdx = order.findIndex((orderItem) => orderItem.id === item.mainId);\n\n    if (itemIdx === -1) {\n      const newItem = {\n        ...item,\n        quantity: 1,\n      };\n      setOrder([...order, newItem]);\n    } else {\n      const newOrder = order.map((orderItem, idx) => {\n        if (idx === itemIdx) {\n          return {\n            ...orderItem,\n            quantity: orderItem.quantity + 1,\n          };\n        } else {\n          return orderItem;\n        }\n      });\n\n      setOrder(newOrder);\n    }\n  };\n\n  const removeFrom = (itemId) => {\n    const newOrder = order.filter((el) => el.id !== itemId);\n    setOrder(newOrder);\n  };\n\n  const incQuantity = (itemId) => {\n    const newOrder = order.map((el) => {\n      if (el.id === itemId) {\n        const newQuantity = el.quantity + 1;\n        return {\n          ...el,\n          quantity: newQuantity,\n        };\n      } else {\n        return el;\n      }\n    });\n\n    setOrder(newOrder);\n  };\n\n  const decQuantity = (itemId) => {\n    const newOrder = order.map((el) => {\n      if (el.id === itemId) {\n        const newQuantity = el.quantity - 1;\n        return {\n          ...el,\n          quantity: newQuantity >= 0 ? newQuantity : 0,\n        };\n      } else {\n        return el;\n      }\n    });\n\n    setOrder(newOrder);\n  };\n\n  const handelCartShow = () => {\n    setIsCartShow(!isCartShow);\n  };\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: {\n        Authorization: API_KEY,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        data.shop && setGoods(data.shop);\n        setLoading(false);\n      });\n  }, []);\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} handelCartShow={handelCartShow} />\n      {loading ? <Preloader /> : <GoodsList goods={goods} addToCart={addToCart} />}\n      {isCartShow && (\n        <CartList\n          order={order}\n          handelCartShow={handelCartShow}\n          removeFrom={removeFrom}\n          incQuantity={incQuantity}\n          decQuantity={decQuantity}\n        />\n      )}\n    </main>\n  );\n}\n\nexport default Shop;\n","const API_KEY = process.env.REACT_APP_API_KEY;\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\n\nexport { API_KEY, API_URL };","import Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Shop from \"./components/Shop\";\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}